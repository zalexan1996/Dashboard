@using DashboardAPI.Data;
@using DashboardAPI.Data.Knowbe4;


<DataPointWrapper Title="Active Campaigns">
    <TableElement Table=@Data/>
</DataPointWrapper>


@code {

    // Sets the table data
    public Table? Data { get; set; } = new Table();

    protected async override Task OnInitializedAsync()
    {
        // Get active_campaigns as a table object with ActiveCampaign rows.
        Data = await Table.GetTable<ActiveCampaign>("/knowbe4/active_campaigns");

        // Update the UI to reflect the new table data
        StateHasChanged();
    }
}